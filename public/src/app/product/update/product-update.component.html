<section *ngIf="selectedProduct" class="row">
  <h2 class="main-header col-12 text-center">Update {{selectedProduct.name}}</h2>
  <div class="offset-1 col-10 offset-lg-3 col-lg-6">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="row">
        <div class="form-group col-12"
          [ngClass]="{
            'has-danger':(productForm.get('name').invalid && productForm.get('name').dirty),
            'has-success':(productForm.get('name').valid)
          }">
          <label class="form-control-label" for="name">Name</label>
          <div>
            <input type="text" formControlName="name" placeholder="name" required
            [(ngModel)]="selectedProduct.name"
            class="form-control form-control-success form-control-danger">
            <div class="tooltip">Required</div>
          </div>
        </div>
        <div class="form-group col-12"
          [ngClass]="{
            'has-danger':(productForm.get('category').invalid && productForm.get('category').dirty),
            'has-success':(productForm.get('category').valid)
          }">
          <label class="form-control-label" for="category">Category</label>
          <div class="has-tooltip">
            <input type="text" formControlName="category" placeholder="category name" required
              class="form-control form-control-success form-control-danger"
              [(ngModel)]="selectedProduct.categoryName"
              #prodCatSearchBox (keyup)="prodCatSearch(prodCatSearchBox.value)"/>
            <div class="tooltip">Required</div>
          </div>
          <div>
            <div *ngFor="let prodCat of prodCats | async"
              (click)="setValue(prodCat)" class="search-result col-12">
              <span>{{prodCat.name}}</span>
            </div>
          </div>
        </div>
        <button (click)="save()" [disabled]="submitted || productForm.invalid">Save</button>
      </div>
    </form>
  </div>
</section>
